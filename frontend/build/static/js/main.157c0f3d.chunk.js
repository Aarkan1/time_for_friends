(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{35:function(e,t,n){e.exports=n(52)},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(31),s=n.n(i),c=(n(40),n(2)),o=n(3),l=n(5),u=n(4),m=n(6),d=n(11),f=n(15),h=(n(41),n(16)),p=n.n(h),v=n(17),y=n(9),b=n(14),g=n.n(b);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=Object(a.createContext)(),w=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={friends:[],filteredFriends:[],filteredTime:[0,24]},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"methodsFactory",value:function(){var e=this,t=["constructor","componentDidMount","render","methodsFactory"],n=Object.keys(Object.getOwnPropertyDescriptors(this.constructor.prototype)).filter((function(e){return!t.includes(e)}));return Object.assign.apply(Object,[{}].concat(Object(y.a)(n.map((function(t){return Object(v.a)({},t,(function(n){return e[t](n)}))})))))}},{key:"setFilteredTime",value:function(e){this.setState({filteredTime:Object(y.a)(e)}),this.filterFriends()}},{key:"filterFriends",value:function(){var e=this.state,t=e.filteredTime,n=e.friends.filter((function(e){var n=e.timeOffset-60*g()().utcOffset()*1e3||0,a=new Date(Date.now()+n).getHours();return a>=t[0]&&a<=t[1]}));this.setState({filteredFriends:n})}},{key:"setFriends",value:function(e){var t=this;this.setState({friends:e,filteredFriends:e}),setTimeout((function(){t.sortFriends(!1)}),5)}},{key:"addFriend",value:function(e){if(!this.state.friends.filter((function(t){return t._id===e._id})).length){var t=[].concat(Object(y.a)(this.state.friends),[e]);this.setState({friends:t,filteredFriends:t})}}},{key:"addManyFriend",value:function(e){var t=this;e.map((function(e){return t.addFriend(e)}))}},{key:"sortFriends",value:function(e){this.state.friends.sort((function(t,n){return e?t.timezone<n.timezone?-1:1:t.name.toLowerCase()<n.name.toLowerCase()?-1:1})),this.filterFriends()}},{key:"render",value:function(){return r.a.createElement(k.Provider,{value:O({},this.state,{},this.methodsFactory())},this.props.children)}}]),t}(a.Component),N=n(1),j=n.n(N),S=n(7),x=n(20);function T(e){return new Promise((function(t){return setTimeout(t,e)}))}function F(e){if(e.works||e.sleeps){var t=e.works.split("-"),n=Object(x.a)(t,2),a=n[0],i=n[1],s=e.sleeps.split("-"),c=Object(x.a)(s,2),o=c[0],l=c[1],u=new Date(Date.now()+e.timeOffset).getHours(),m=l>u||o<u;return a<u&&i>u?r.a.createElement("i",{className:"material-icons right"},"emoji_transportation"):m?r.a.createElement("i",{className:"material-icons right"},"snooze"):r.a.createElement("i",{className:"material-icons right"},"mood")}}function C(e){!e.name.trim().length&&document.querySelector("#friend-name").classList.add("validate-error");var t=e.name.trim().length>0;!e.city.trim().length&&document.querySelector("#friend-city").classList.add("validate-error");var n=e.city.trim().length>0,a=!e.phoneNumbers.map((function(e,t){if(e.length<10||e.length>16)return document.querySelector(".friend-phone-"+t).classList.add("validate-error"),t})).filter((function(e){return void 0!==e})).length>0,r=!e.mailAddresses.map((function(e,t){if(!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e))return document.querySelector(".friend-email-"+t).classList.add("validate-error"),t})).filter((function(e){return void 0!==e})).length>0,i=e.works.split("-"),s=Object(x.a)(i,2),c=s[0],o=s[1],l=e.sleeps.split("-"),u=Object(x.a)(l,2),m=u[0],d=u[1];o/=1,m/=1;var f=(c/=1)>(d/=1)&&o<m;return!f&&document.querySelector("#work-sleep-sliders").classList.add("validate-error"),t&&n&&a&&r&&f}var z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).offset=n.props.timeOffset||0,n._isMounted=!1,n.state={time:new Date(Date.now()+n.offset)},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"updateTime",value:function(){var e=Object(S.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isMounted){e.next=7;break}return this.setState({time:new Date(Date.now()+this.offset)}),this.props.onUpdate&&this.props.onUpdate(this.state.time.getHours()>20||this.state.time.getHours()<8),e.next=5,T(500);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this._isMounted=!0,this.updateTime()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return r.a.createElement("span",{id:"clock",className:"center-align"},r.a.createElement("h4",{id:"clock-time"},this.state.time.toLocaleTimeString()),r.a.createElement("h6",{id:"clock-date",className:"grey-text"},this.state.time.toLocaleDateString()))}}]),t}(a.Component),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isNight:!1},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"setNight",value:function(e){this.setState({isNight:e})}},{key:"getLocaleTime",value:function(){var e=this;return r.a.createElement(z,Object.assign({onUpdate:function(t){return e.setNight(t)}},{timeOffset:this.props.timeOffset}))}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{render:function(t){var n=t.history;return r.a.createElement("div",{className:"card waves-effect light-waves",onClick:function(){return n.push("/friend/"+e.props._id)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-title"},e.props.name,F(e.props),r.a.createElement("i",{className:e.state.isNight?"material-icons right blue-text text-darken-3":"material-icons right orange-text"},e.state.isNight?"nights_stay":"wb_sunny")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s6"},r.a.createElement("p",null,e.props.city),r.a.createElement("p",null,e.props.country),r.a.createElement("p",null,e.props.timezone)),r.a.createElement("div",{className:"col s6"},e.getLocaleTime()))))}})}}]),t}(a.Component),_=n(34),A=n(22),L=n.n(A),P=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.initSlider(),setTimeout((function(){e.props.updateTime&&e.slider.noUiSlider.updateOptions({start:e.props.updateTime.split("-")})}),500)}},{key:"initSlider",value:function(){var e=this,t=this.props.initTime?this.props.initTime.split("-"):[0,24];this.slider=document.getElementById(this.props.divId),_.create(this.slider,{start:t,behaviour:"drag-tap",connect:!0,step:1,tooltips:[L()({mark:":",decimals:2,encoder:function(e){return Math.round(e)}}),L()({mark:":",decimals:2,encoder:function(e){return Math.round(e)}})],orientation:"horizontal",range:{min:[0],"25%":[6],"50%":[12],"75%":[18],max:[24]},format:{to:function(e){return e},from:function(e){return Number(e)}},pips:{mode:"range",stepped:!0,density:4,format:L()({mark:":",decimals:2})}}).on("update",(function(t,n){return e.timeFilter(t,n)}))}},{key:"timeFilter",value:function(e,t){var n=Math.round(e[0]),a=Math.round(e[1]);this.props.onUpdate([n,a])}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container",id:this.props.divId}),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(a.Component);P.contextType=k;var q=n(21);function M(e){return I("GET",e)}function U(e,t){return I("POST",e,t)}function I(e,t,n){return B.apply(this,arguments)}function B(){return(B=Object(S.a)(j.a.mark((function e(t,n,a){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n,{method:t,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(l.a)(this,Object(u.a)(t).call(this,e));var a=60*(g()().tz(e.timezone).utcOffset()-g()().utcOffset())*1e3;return Object.assign(Object(q.a)(n),e,{timeOffset:a}),n}return Object(m.a)(t,e),t}(function(){function e(t){Object(c.a)(this,e),Object.assign(this,t)}return Object(o.a)(e,[{key:"save",value:function(){var e=Object(S.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._id){e.next=6;break}return e.next=3,I("PUT","/rest/".concat(this.constructor.name||this.name),this);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,U("/rest/".concat(this.constructor.name||this.name),this);case 8:e.t0=e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(S.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("DELETE","/rest/".concat(this.constructor.name||this.name,"/").concat(this._id));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"findOne",value:function(){var e=Object(S.a)(j.a.mark((function e(){var t,n,a,r,i,s=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1&&void 0!==s[1]?s[1]:{},a=t._id,t="object"===typeof t?t:{_id:t},t=encodeURIComponent(JSON.stringify(t,(function(e,t){return t.constructor===RegExp?{$regex:t.toString()}:t}))),n=encodeURIComponent(JSON.stringify(n)),e.next=8,M("/rest/".concat(this.constructor.name||this.name,"/").concat(a||this._id,"?q=").concat(t,"&o=").concat(n));case 8:return r=e.sent,delete(i=new this(r)).__v,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=Object(S.a)(j.a.mark((function e(){var t,n,a,r=this,i=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1&&void 0!==i[1]?i[1]:{},console.log(this.constructor),t=encodeURIComponent(JSON.stringify(t,(function(e,t){return t.constructor===RegExp?{$regex:t.toString()}:t}))),n=encodeURIComponent(JSON.stringify(n)),e.next=7,M("/rest/".concat(this.constructor.name||this.name,"?q=").concat(t,"&o=").concat(n));case 7:return a=(a=e.sent).results,e.abrupt("return",a.map((function(e){var t=new r(e);return delete t.__v,t})));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),J=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",isNight:!1,sortName:!0,searchByTimezone:!1},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.filterFriends()}},{key:"timeFilter",value:function(e){(0,this.context.setFilteredTime)([e[0],e[1]])}},{key:"setNight",value:function(e){this.setState({isNight:e})}},{key:"filterFriends",value:function(){var e=this,t=this.state.searchByTimezone?"timezone":"name";clearTimeout(this.throttleSearch),this.throttleSearch=setTimeout(Object(S.a)(j.a.mark((function n(){var a,r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new RegExp(e.state.search,"i"),n.next=3,H.find(Object(v.a)({},t,a),{sort:"name"});case 3:r=n.sent,e.context.setFriends(r);case 5:case"end":return n.stop()}}),n)}))),300)}},{key:"listFriends",value:function(){return this.context.filteredFriends.map((function(e,t){return r.a.createElement("div",{className:"col s12 l6",key:e.name+t},r.a.createElement(D,e))}))}},{key:"sortByNameSwitch",value:function(){var e=this;return r.a.createElement("span",{className:"switch"},r.a.createElement("label",null,"Name",r.a.createElement("input",{type:"checkbox",value:this.state.sortName,onChange:function(t){e.context.sortFriends(t.target.checked)}}),r.a.createElement("span",{className:"lever"}),"Timezone"))}},{key:"toggleSearchTimezone",value:function(){var e=this;return r.a.createElement("div",{id:"timezone-checkbox",className:"row valign-wrapper"},r.a.createElement("label",{className:"col s1"},r.a.createElement("input",{type:"checkbox",className:"filled-in",checked:this.state.searchByTimezone,onChange:function(t){e.setState({searchByTimezone:t.target.checked}),setTimeout((function(){e.filterFriends()}),5)}}),r.a.createElement("span",{id:"timezone-checkbox-span"})),r.a.createElement("p",{className:"col s11"},"Search by timezone"))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"center-align"},r.a.createElement("br",null),r.a.createElement("i",{id:"main-day-icon",className:this.state.isNight?"material-icons right blue-text text-darken-3":"material-icons right orange-text"},this.state.isNight?"nights_stay":"wb_sunny"),r.a.createElement(z,{onUpdate:function(t){return e.setNight(t)}})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 l6 offset-l3"},this.toggleSearchTimezone(),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",value:this.state.search,onChange:function(t){return e.setState({search:t.target.value})},onKeyUp:function(){return e.filterFriends()},id:"search-query"}),r.a.createElement("label",{htmlFor:"search-query"},"Search friend by",this.state.searchByTimezone?" timezone":" name")),r.a.createElement(P,{divId:"time-slider-filter-friends",onUpdate:function(t){return e.timeFilter(t)}}),r.a.createElement("p",null,"Sort by: ",this.sortByNameSwitch()))),r.a.createElement("div",{className:"App-header row"},this.listFriends()))}}]),t}(a.Component);J.contextType=k;var R=Object(f.e)((function(e){var t=e.match.params.id;return r.a.createElement("a",{href:"add-friend/"+t,className:"btn red lighten-1 waves-effect waves-light col s3 offset-s4",onClick:function(){var n=Object(S.a)(j.a.mark((function n(a){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.next=3,H.findOne(t);case 3:return r=n.sent,n.t0=console,n.next=7,r.delete();case 7:n.t1=n.sent,n.t0.log.call(n.t0,n.t1),e.history.push("/");case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},"Delete")})),W=function(e){return r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"phone"),e.numbers.map((function(t,n){return r.a.createElement("input",{key:"number"+n,type:"text",className:"friend-phone-"+n,id:"friend-phone",placeholder:n?"Phone number "+(n+1):null,value:t.replace(/[^\d\s-+]/,"").replace(/-+/g,"-").replace(/\++/g,"+").replace(/\s+/g," "),onChange:function(t){document.querySelector(".friend-phone-"+n).classList.remove("validate-error");var a=[].concat(Object(y.a)(e.numbers.filter((function(e){return e}))),[""]);a[n]=t.target.value,e.onUpdate(a)}})})),r.a.createElement("label",{htmlFor:"friend-phone"},"Phone numbers"))},$=function(e){return r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"email"),e.emails.map((function(t,n){return r.a.createElement("input",{key:"email"+n,type:"email",className:"friend-email-"+n,id:"friend-emails",value:t,placeholder:n?"Email address "+(n+1):null,onChange:function(t){document.querySelector(".friend-email-"+n).classList.remove("validate-error");var a=[].concat(Object(y.a)(e.emails.filter((function(e){return e}))),[""]);a[n]=t.target.value,e.onUpdate(a)}})})),r.a.createElement("label",{htmlFor:"friend-emails"},"Email addresses"))},G=n(26),K=n.n(G);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).defaultFriend={name:"",city:"",country:"Sweden",countryCode:"SE",timezone:"Europe/Stockholm",phoneNumbers:[""],mailAddresses:[""],works:"9-17",sleeps:"6-22"},n.state=Z({},n.defaultFriend),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(j.a.mark((function e(){var t,n,a,r,i,s,c,o,l,u,m=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.match.params.id)){e.next=50;break}if(e.t0=this.context.friends.filter((function(e){return e._id===t}))[0],e.t0){e.next=7;break}return e.next=6,H.findOne(t);case 6:e.t0=e.sent;case 7:return n=e.t0,this.setState(Z({},n)),e.next=11,T(5);case 11:return a=document.querySelector("#country-list"),r=a.querySelectorAll("option"),r=Object(y.a)(r).filter((function(e){return e.innerHTML===m.state.country}))[0],a.value=r.value,this.countryListChange({target:{value:r.value}}),document.querySelector("#timezone-list").value=this.state.timezone,e.next=20,T(50);case 20:i=!0,s=!1,c=void 0,e.prev=23,o=document.querySelectorAll("input")[Symbol.iterator]();case 25:if(i=(l=o.next()).done){e.next=34;break}return(u=l.value).focus(),e.next=30,T(5);case 30:u.blur();case 31:i=!0,e.next=25;break;case 34:e.next=40;break;case 36:e.prev=36,e.t1=e.catch(23),s=!0,c=e.t1;case 40:e.prev=40,e.prev=41,i||null==o.return||o.return();case 43:if(e.prev=43,!s){e.next=46;break}throw c;case 46:return e.finish(43);case 47:return e.finish(40);case 48:e.next=51;break;case 50:this.countryListChange({target:{value:'{"id":"SE","name":"Sweden","timezones":["Europe/Stockholm"]}'}});case 51:p.a.FormSelect.init(document.querySelectorAll("select"));case 52:case"end":return e.stop()}}),e,this,[[23,36,40,48],[41,,43,47]])})));return function(){return e.apply(this,arguments)}}()},{key:"addNewFriend",value:function(){var e=Object(S.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({phoneNumbers:this.state.phoneNumbers.filter((function(e){return e})),mailAddresses:this.state.mailAddresses.filter((function(e){return e}))}),e.next=4,T(5);case 4:if(C(this.state)){e.next=8;break}return console.warn("Error: Form did not validate"),this.setState({phoneNumbers:[].concat(Object(y.a)(this.state.phoneNumbers.filter((function(e){return e}))),[""]),mailAddresses:[].concat(Object(y.a)(this.state.mailAddresses.filter((function(e){return e}))),[""])}),e.abrupt("return");case 8:return n=new H(this.state),e.next=11,n.save();case 11:n=e.sent,this.props.history.push("/friend/"+n._id);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearFields",value:function(){this.setState(Z({},this.defaultFriend))}},{key:"handleAddPhoneNumber",value:function(e,t){var n=Object(y.a)(this.state.phoneNumbers);n[t]=e.target.value,this.setState({phoneNumbers:n})}},{key:"countryList",value:function(){return Object.values(K.a.getAllCountries()).map((function(e){return r.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.name)}))}},{key:"countryListChange",value:function(){var e=Object(S.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(t.target.value),this.setState({countryCode:n.id,country:n.name}),e.next=4,T(5);case 4:a=document.querySelector("#timezone-list"),p.a.FormSelect.init(a),this.setState({timezone:a.querySelectorAll("option")[0].value});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"timezoneList",value:function(){return K.a.getAllCountries()[this.state.countryCode].timezones.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))}},{key:"setWorkTime",value:function(e){document.querySelector("#work-sleep-sliders").classList.remove("validate-error"),this.setState({works:e.join("-")})}},{key:"setSleepTime",value:function(e){document.querySelector("#work-sleep-sliders").classList.remove("validate-error"),this.setState({sleeps:e.reverse().join("-")})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("h4",{className:"center-align"},this.props.match.params.id?"Edit friend":"Add new friend"),r.a.createElement("form",{className:"col s12 m8 l6 offset-m2 offset-l3",action:"",onSubmit:function(t){return e.addNewFriend(t)}},r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"account_circle"),r.a.createElement("input",{type:"text",id:"friend-name",value:this.state.name,onChange:function(t){document.querySelector("#friend-name").classList.remove("validate-error"),e.setState({name:t.target.value})}}),r.a.createElement("label",{htmlFor:"friend-name"},"Name")),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"location_city"),r.a.createElement("input",{type:"text",id:"friend-city",value:this.state.city,onChange:function(t){document.querySelector("#friend-city").classList.remove("validate-error"),e.setState({city:t.target.value})}}),r.a.createElement("label",{htmlFor:"friend-city"},"City")),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"emoji_flags"),r.a.createElement("select",{id:"country-list",defaultValue:'{"id":"SE","name":"Sweden","timezones":["Europe/Stockholm"]}',onChange:function(t){return e.countryListChange(t)}},this.countryList()),r.a.createElement("label",null,"Country")),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"schedule"),r.a.createElement("select",{id:"timezone-list",onChange:function(t){console.log(t.target.value),e.setState({timezone:t.target.value})}},this.timezoneList()),r.a.createElement("label",null,"Timezone")),r.a.createElement(W,{numbers:this.state.phoneNumbers,onUpdate:function(t){e.setState({phoneNumbers:t})}}),r.a.createElement($,{emails:this.state.mailAddresses,onUpdate:function(t){e.setState({mailAddresses:t})}}),r.a.createElement("div",{id:"work-sleep-sliders"},r.a.createElement("div",{className:"row valign-wrapper"},r.a.createElement("i",{className:"material-icons col"},"emoji_transportation"),r.a.createElement("p",{className:"col"},"Working time")),r.a.createElement(P,{divId:"time-slider-work",initTime:this.state.works,updateTime:this.state.works,onUpdate:function(t){return e.setWorkTime(t)}}),r.a.createElement("div",{className:"row valign-wrapper"},r.a.createElement("i",{className:"material-icons col"},"snooze"),r.a.createElement("p",{className:"col"},"Sleeping time")),r.a.createElement(P,{divId:"time-slider-sleep",initTime:this.state.sleeps,updateTime:this.state.sleeps.split("-").reverse().join("-"),onUpdate:function(t){return e.setSleepTime(t)}})),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"button",onClick:function(t){return e.clearFields(t)},className:"col offset-s2 waves-effect lighten-waves btn red lighten-2"},"Clear"),r.a.createElement("button",{type:"submit",onClick:function(t){return e.addNewFriend(t)},className:"col offset-s3 waves-effect lighten-waves btn"},"Submit")),this.props.match.params.id&&r.a.createElement("div",{className:"row"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(R,null))))}}]),t}(a.Component);Q.contextType=k;var X=Object(f.e)(Q),Y=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={friend:{isNight:!1,phoneNumbers:[],mailAddresses:[]}},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"setNight",value:function(e){this.setState({isNight:e})}},{key:"getLocaleTime",value:function(){var e=this;return r.a.createElement(z,Object.assign({onUpdate:function(t){return e.setNight(t)}},{timeOffset:this.state.friend.timeOffset}))}},{key:"componentDidMount",value:function(){var e=Object(S.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params.id,e.t0=this.context.friends.filter((function(e){return e._id===t}))[0],e.t0){e.next=6;break}return e.next=5,H.findOne(t);case 5:e.t0=e.sent;case 6:n=e.t0,this.setState({friend:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listEmails",value:function(e){return e.map((function(e,t){return r.a.createElement("div",{key:e+t},r.a.createElement("p",null,e))}))}},{key:"listPhoneNumbers",value:function(e){return e.map((function(e,t){return r.a.createElement("div",{key:e+t},r.a.createElement("p",null,e))}))}},{key:"editButton",value:function(){var e=this,t=this.props.match.params.id;return r.a.createElement("a",{id:"edit-button",href:"add-friend/"+t,className:"btn-floating btn-large orange lighten-1 waves-effect waves-light",onClick:function(n){n.preventDefault(),e.props.history.push("/add-friend/"+t)}},r.a.createElement("i",{className:"material-icons i-edit-button"},"create"))}},{key:"render",value:function(){var e=this.state.friend;return r.a.createElement("div",{className:"row friend-details"},r.a.createElement("h3",{className:"center-align"},e.name),r.a.createElement("div",{className:"col s12 m10 offset-m1 l6 offset-l3"},r.a.createElement("div",{className:"row valign-wrapper"},r.a.createElement("div",{className:"col s8 offset-s2"},void 0!==this.state.friend.timeOffset?this.getLocaleTime():""),r.a.createElement("div",{className:"col s1"},r.a.createElement("i",{className:this.state.isNight?"material-icons right blue-text text-darken-3":"material-icons right orange-text"},this.state.isNight?"nights_stay":"wb_sunny")),r.a.createElement("div",{className:"col s1"},F(this.state.friend))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("i",{className:"material-icons col s1"},"location_city"),r.a.createElement("div",{className:"col s7"},r.a.createElement("p",null,"City: ",e.city),r.a.createElement("p",null,"Country: ",e.country),r.a.createElement("p",null,"Zone: ",e.timezone)),r.a.createElement("div",{className:"col s4"},r.a.createElement("p",null,"Works: ",e.works),r.a.createElement("p",null,"Sleeps: ",e.sleeps))),e.phoneNumbers.length>0&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("i",{className:"material-icons col s1"},"phone"),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Phone numbers"),this.listPhoneNumbers(e.phoneNumbers)))),e.mailAddresses.length>0&&r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("i",{className:"material-icons col s1"},"email"),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Emails"),this.listEmails(e.mailAddresses))," ")),this.editButton())}}]),t}(a.Component);Y.contextType=k;var ee=Object(f.e)(Y),te=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.changeTheme()}},{key:"closeSidenav",value:function(){p.a.Sidenav.getInstance(document.querySelector(".sidenav")).close()}},{key:"changeTheme",value:function(e){e=e?"dark":"light",document.documentElement.style.setProperty("--theme-bg","var(--".concat(e,"-mode-bg)")),document.documentElement.style.setProperty("--theme-ui","var(--".concat(e,"-mode-ui)")),document.documentElement.style.setProperty("--theme-text","var(--".concat(e,"-mode-text)"))}},{key:"toggleDarkMode",value:function(){var e=this;return r.a.createElement("span",{className:"switch"},r.a.createElement("label",null,"Light",r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.changeTheme(t.target.checked)}}),r.a.createElement("span",{className:"lever"}),"Dark"))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar-fixed"},r.a.createElement("nav",{className:"nav-wrapper orange lighten-1"},r.a.createElement("div",{className:"container"},r.a.createElement(d.b,{className:"brand-logo",to:"/"},"Time for friends"),r.a.createElement("a",{href:"!#",className:"sidenav-trigger","data-target":"mobile-links"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-med-and-down"},this.toggleDarkMode(),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/add-friend"},"Add Friend")))))),r.a.createElement("ul",{className:"sidenav center-align",id:"mobile-links"},this.toggleDarkMode(),r.a.createElement("li",null,r.a.createElement(d.b,{onClick:function(){return e.closeSidenav()},to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(d.b,{onClick:function(){return e.closeSidenav()},to:"/add-friend"},"Add Friend"))))}}]),t}(a.Component),ne=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){p.a.AutoInit()}},{key:"toTopHandler",value:function(e){setTimeout((function(){window.history.replaceState({},null,window.location.pathname.replace("#top",""))}),5)}},{key:"render",value:function(){var e=this;return r.a.createElement(w,null,r.a.createElement(d.a,null,r.a.createElement("div",{id:"top",className:"App scrollspy row"},r.a.createElement(te,null),r.a.createElement("main",{className:"container col s12 m8"},r.a.createElement(f.a,{exact:!0,path:"/",component:J}),r.a.createElement(f.a,{exact:!0,path:"/add-friend/:id?",component:X}),r.a.createElement(f.a,{exact:!0,path:"/friend/:id?",render:function(e){return r.a.createElement(ee,e)}})),r.a.createElement("a",{href:"#top",id:"to-top-btn",onClick:function(t){return e.toTopHandler(t)},className:"btn-floating btn-large orange lighten-1 waves-effect waves-light"},r.a.createElement("i",{className:"material-icons"},"keyboard_arrow_up")),r.a.createElement("footer",{className:"footer center-align valign-wrapper"},r.a.createElement("h6",{className:"copyright"},"\xa9 2019 Time for friends")))))}}]),t}(a.Component);n(51),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.157c0f3d.chunk.js.map